<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Mocha Tests</title>
  <link rel="stylesheet" href="mocha.css" />
</head>
<body>
  <div id="mocha"></div>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  <script src="mocha.js"></script>
  <script src="../lib/string.js"></script>
  <script>mocha.setup('bdd')</script>
  <script src="string.test.js"></script>
  <script>
    $(function () {
      window.testsPassed = null;
      function handleResults(runner) {
        if (runner.stats.end)
          window.testsPassed = runner.stats.failures === 0;
        runner.on('fail', function(test, err){
          window.testsPassed = false;
        });
        runner.on('end', function(){
          window.testsPassed = window.testsPassed == null;
        });
        return runner;
      }
      handleResults(mocha.run())
        .globals(['S']) // acceptable globals
    })
  </script>
</body>
</html>